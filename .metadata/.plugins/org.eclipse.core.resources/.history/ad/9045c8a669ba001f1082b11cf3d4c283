package com.skilldistillery.jpasmoochyzoo.data;

import com.skilldistillery.jpasmoochyzoo.entities.Animal;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.Persistence;

public class AnimalDAOImpl implements AnimalDAO
{

	@Override
	public Animal addAnimal(Animal animal)
	{
		 EntityManagerFactory emf =
			        Persistence.createEntityManagerFactory("SmoochyZoo");
			    EntityManager em = emf.createEntityManager();

			    // start the transaction
			    em.getTransaction().begin();
			    // write the actor to the database
			    em.persist(animal);
			    // update the "local" Actor object
			    em.flush();
			    // commit the changes (actually perform the operation)
			    em.getTransaction().commit();

			    // return the Actor object
			    System.out.println(animal.toString());
			    return animal;
		
	}
}
