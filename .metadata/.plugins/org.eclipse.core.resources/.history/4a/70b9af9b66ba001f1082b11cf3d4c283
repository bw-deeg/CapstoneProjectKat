package com.skilldistillery.jpasmoochyzoo.client;

import com.skilldistillery.jpasmoochyzoo.entities.Animal;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.Persistence;
import java.time.LocalDateTime;
import java.time.Month;

public class AnimalClient {

	public static void main(String[] args) {
		 EntityManagerFactory emf =
			      Persistence.createEntityManagerFactory("SmoochyZoo");
			    EntityManager em = emf.createEntityManager();
			    LocalDateTime birthday = LocalDateTime.of(2024, Month.February, 10, 12, 30);

			    Animal newAnimal = new Animal();
			    newAnimal.setName("Pebbles");
			    newAnimal.setBirthday(birthday);
			    newAnimal.setCategoryId(1);
			    Animal animal = em.find(Animal.class, 1);
			    System.out.println(animal);

			    // No memory leaks...
			    em.close();
			    emf.close();
	}

}
